<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>LenovoAPI</title>
<link rel="stylesheet" href="http://iiiui.qiniudn.com/base.css" />
</head>
<body><div class="container"><blockquote>
  <p><strong>API地址</strong>: <a href="http://le.pamakids.com/api">http://le.pamakids.com/api</a> <br>
  <strong>资源地址</strong>:<a href="http://lenovour.qiniudn.com">http://lenovour.qiniudn.com</a> <br>
  <strong>*</strong>号的参数是必须的 <br>
  所有返回的数据对象都带有<strong>_id</strong>属性，就不再赘述 <br>
  所有文本输入长度不超过200字 <br>
  所有语音和视频输入长度不超过60秒</p>
</blockquote>

<p><div class="toc"><div class="toc">
<ul>
<li><a href="#api">API</a><ul>
<li><a href="#token">Token</a></li>
<li><a href="#research">Research</a></li>
</ul>
</li>
<li><a href="#model">Model</a><ul>
<li><a href="#resultvo">ResultVO</a></li>
<li><a href="#researchvo">ResearchVO</a><ul>
<li><a href="#questionvo">QuestionVO</a><ul>
<li><a href="#answervo">AnswerVO</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#reportvo">ReportVO</a></li>
</ul>
</li>
</ul>
</div>
</div>
</p>

<h1 id="api">API</h1>

<h2 id="token">Token</h2>

<table>
<thead>
<tr>
  <th>URI</th>
  <th>Request</th>
  <th><a href="#resultvo">ResultVO</a></th>
</tr>
</thead>
<tbody><tr>
  <td>/upload/token</td>
  <td>上传图片或其他文件的秘钥</td>
  <td>{status: true, results: token}</td>
</tr>
<tr>
  <td>/upload/audio/token</td>
  <td>上传音频的秘钥</td>
  <td>{status: true, results: token}</td>
</tr>
<tr>
  <td>/upload/video/token</td>
  <td>上传视频的秘钥</td>
  <td>{status: true, results: token}</td>
</tr>
</tbody></table>
<h2 id="research">Research</h2>

<p>调查研究相关活动接口</p>

<table>
<thead>
<tr>
  <th>URI</th>
  <th>Request</th>
  <th><a href="#resultvo">ResultVO</a></th>
</tr>
</thead>
<tbody><tr>
  <td>/research/list<br><strong>GET</strong></td>
  <td>获取活动列表<br><code>*page</code> 当前页数<br><code>uid</code> 用户id，根据用id获取针对该用户的活动列表<br><code>为空则获取面向所有人的活动列表</code></td>
  <td>result:<a href="#researchvo">[ResearchVO]</a></td>
</tr>
<tr>
  <td>/research/get<br><strong>GET</strong></td>
  <td>获取活动详情<br><code>*id</code> 活动ID</td>
  <td>result:<a href="#researchvo">ResearchVO</a></td>
</tr>
<tr>
  <td>/research/submit<br><strong>POST</strong></td>
  <td>提交问卷报告<br><code>*id</code> 活动ID<br><code>*udid</code> 设备唯一号<br><code>uid</code> 用户登录后使用<br><code>*report</code> 报告为<a href="#reportvo">ReportVO</a>数组</td>
  <td>status:true 提交成功 <br> status:false 提交失败</td>
</tr>
</tbody></table>


<h1 id="model">Model</h1>

<h2 id="resultvo">ResultVO</h2>

<p><strong>数据请求结果通用对象</strong></p>

<table>
<thead>
<tr>
  <th>property</th>
  <th>type</th>
  <th>description</th>
  <th>remark</th>
</tr>
</thead>
<tbody><tr>
  <td>status</td>
  <td>Boolean</td>
  <td>true:接口请求成功<br>false:接口请求失败</td>
  <td></td>
</tr>
<tr>
  <td>result</td>
  <td>Object</td>
  <td>任意数据对象，出错后返回错误原因字符串</td>
  <td></td>
</tr>
</tbody></table>


<h2 id="researchvo">ResearchVO</h2>

<p><strong>调查研究活动数据对象</strong></p>

<table>
<thead>
<tr>
  <th>property</th>
  <th>type</th>
  <th>description</th>
  <th>remark</th>
</tr>
</thead>
<tbody><tr>
  <td>name</td>
  <td>String</td>
  <td>活动名称</td>
  <td>获取活动列表时仅返回该属性</td>
</tr>
<tr>
  <td>thanks</td>
  <td>String</td>
  <td>感谢语，活动开始页显示</td>
  <td>先不需要重点显示</td>
</tr>
<tr>
  <td>questions</td>
  <td><a href="#questionvo">[QuestionVO]</a></td>
  <td>问题数组，目前是直接返回所有问题数据</td>
  <td></td>
</tr>
</tbody></table>


<h3 id="questionvo">QuestionVO</h3>

<p><strong>题目数据对象</strong></p>

<table>
<thead>
<tr>
  <th>property</th>
  <th>type</th>
  <th>description</th>
  <th>remark</th>
</tr>
</thead>
<tbody><tr>
  <td>title</td>
  <td>String</td>
  <td>问题题目</td>
  <td></td>
</tr>
<tr>
  <td>type</td>
  <td>Number</td>
  <td>问题类型</td>
  <td><code>1</code> 多选 <code>2</code> 单选 <code>3</code> 排序 <code>4</code> 评分 <code>5</code> 输入</td>
</tr>
<tr>
  <td>user_key</td>
  <td>String</td>
  <td>问题涉及的用户属性</td>
  <td>如果该属性不为空，用户答题后需要赋值到<a href="#reportvo">ReportVO</a></td>
</tr>
<tr>
  <td>answers</td>
  <td><a href="#answervo">[AnswerVO]</a></td>
  <td>问题的可选答案</td>
  <td></td>
</tr>
</tbody></table>


<h4 id="answervo">AnswerVO</h4>

<p><strong>题目可选答案数据对象</strong></p>

<table>
<thead>
<tr>
  <th>property</th>
  <th>type</th>
  <th>description</th>
  <th>remark</th>
</tr>
</thead>
<tbody><tr>
  <td>content</td>
  <td>String</td>
  <td>答案文本内容</td>
  <td>有可能为空</td>
</tr>
<tr>
  <td>image</td>
  <td>String</td>
  <td>图片选项相对路径</td>
  <td>通过imageView2来获得任意尺寸的图片</td>
</tr>
<tr>
  <td>need_reason</td>
  <td>Boolean</td>
  <td>是否在选中后需要显示输入框提示用户输入理由</td>
  <td></td>
</tr>
</tbody></table>


<h2 id="reportvo">ReportVO</h2>

<p>针对不同类型的问题，选择答案后生成的数据对象</p>

<table>
<thead>
<tr>
  <th>property</th>
  <th>type</th>
  <th>description</th>
  <th>remark</th>
</tr>
</thead>
<tbody><tr>
  <td>qid</td>
  <td>String</td>
  <td>问题ID</td>
  <td></td>
</tr>
<tr>
  <td>value</td>
  <td>Object</td>
  <td><code>单选</code> 选项索引<br><code>多选</code> 选项索引数组<br><code>排序</code> 最终排序数组<br><code>评分</code> 分值<br><code>输入</code> 输入的值</td>
  <td><code>排序</code> 比较特殊，返回最终排序的数组就行，比如之前是[0,1,2]<br> 排序后是[2,1,0]表示原始数据的第一个跟第三个调换了顺序</td>
</tr>
<tr>
  <td>remark</td>
  <td>String</td>
  <td>选中某些选项需要输入原因的值<br>如果是文本则输入文本，不超过<code>200</code>字<br>如果是语音输入则是语音的相对路径</td>
  <td></td>
</tr>
<tr>
  <td>user_key</td>
  <td>String</td>
  <td>用户信息Key值</td>
  <td><code>key</code>为问题的<code>user_key</code></td>
</tr>
<tr>
  <td>user_value</td>
  <td>String</td>
  <td>用户信息value值</td>
  <td><code>value</code>为答案的<code>content</code> <code>输入</code>类型题目则是 <code>remark</code></td>
</tr>
</tbody></table></div></body>
</html>